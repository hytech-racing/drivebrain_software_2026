# DriveBrain Software 2026

This guide explains how to build the DriveBrain Software 2026 using the provided Docker cross-compilation environment.

## Prerequisites

* Docker installed on your system
* Local clone of the DriveBrain repository

## Building the Software

## 0. Build the dockerfile (you only need to do this once)
Run the following command to build the dockerfile: 
```
docker build -t rpi-cross-compile .
```
It may take a few minutes. 

### 1. Enter the Docker Container

Run the following command to start and enter the Docker container with the necessary volumes mounted:

```bash
docker compose run dev
```

Alternatively, if you want to enter a modified container for whatever reason, you can run:
```bash
docker run -it \
  --mount type=volume,source=conan_cache,target=/root/.conan2 \
  --mount type=bind,source="$(pwd)",target=/app \
  --memory=16g \ # extra flag
  --cpus=4 \ # extra flag
  -w /app \
  rpi-cross-compile /bin/bash 
```
and pass in whatever flags you see fit. 

### 2. Run the Build Script

Inside the container, execute:

```bash
./build_script.sh
```

This script will build the DriveBrain software using the cross-compilation toolchain for the target platform.
The first time you run it, it will take some time because it needs to compile all the dependencies. However, future builds past the first one take <1 minute because dependencies are cached. 

### Notes
* Make sure the build script has execute permissions: `chmod +x build_script.sh`.
* The build artifacts will be generated inside an autogenerated folder that's handled by Docker. You can access these artifacts for debugging by using `docker volume inspect`.

